{"version":3,"file":"index.js","names":["_common","_interopRequireDefault","require","obj","__esModule","default","_default","context","options","Syntax","RuleError","report","getSource","Code","node","Str","text","result","common","diffs","length","forEach","diff","ruleError","expected","index","test","indexOfBugs","search"],"sources":["../src/index.js"],"sourcesContent":["import common from \"./common.js\";\nexport default function (context, options = {}) {\n    const { Syntax, RuleError, report, getSource } = context;\n    return {\n        // async test\n        async [Syntax.Code](node) {\n            return null;\n        },\n        [Syntax.Str](node) {\n            // \"Str\" node\n            const text = getSource(node);\n            // check prh\n            const result = common(text);\n            if (result.diffs.length > 0) {\n                result.diffs.forEach((diff) => {\n                    const ruleError = new RuleError(`Found ${diff.expected}!`, {\n                        index: diff.index // padding of index\n                    });\n                    report(node, ruleError);\n                });\n            }\n            // check inline\n            if (/bugs/.test(text)) {\n                const indexOfBugs = text.search(/bugs/);\n                const ruleError = new RuleError(\"Found bugs.\", {\n                    index: indexOfBugs // padding of index\n                });\n                report(node, ruleError);\n            }\n        }\n    };\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAiC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAClB,SAAAG,SAAUC,OAAO,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EAC5C,MAAM;IAAEC,MAAM;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAU,CAAC,GAAGL,OAAO;EACxD,OAAO;IACH;IACA,OAAOE,MAAM,CAACI,IAAI,EAAEC,IAAI,EAAE;MACtB,OAAO,IAAI;IACf,CAAC;IACD,CAACL,MAAM,CAACM,GAAG,EAAED,IAAI,EAAE;MACf;MACA,MAAME,IAAI,GAAGJ,SAAS,CAACE,IAAI,CAAC;MAC5B;MACA,MAAMG,MAAM,GAAG,IAAAC,eAAM,EAACF,IAAI,CAAC;MAC3B,IAAIC,MAAM,CAACE,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;QACzBH,MAAM,CAACE,KAAK,CAACE,OAAO,CAAEC,IAAI,IAAK;UAC3B,MAAMC,SAAS,GAAG,IAAIb,SAAS,CAAE,SAAQY,IAAI,CAACE,QAAS,GAAE,EAAE;YACvDC,KAAK,EAAEH,IAAI,CAACG,KAAK,CAAC;UACtB,CAAC,CAAC;UACFd,MAAM,CAACG,IAAI,EAAES,SAAS,CAAC;QAC3B,CAAC,CAAC;MACN;MACA;MACA,IAAI,MAAM,CAACG,IAAI,CAACV,IAAI,CAAC,EAAE;QACnB,MAAMW,WAAW,GAAGX,IAAI,CAACY,MAAM,CAAC,MAAM,CAAC;QACvC,MAAML,SAAS,GAAG,IAAIb,SAAS,CAAC,aAAa,EAAE;UAC3Ce,KAAK,EAAEE,WAAW,CAAC;QACvB,CAAC,CAAC;QACFhB,MAAM,CAACG,IAAI,EAAES,SAAS,CAAC;MAC3B;IACJ;EACJ,CAAC;AACL"}