{"version":3,"file":"index.js","names":["_default","context","options","Syntax","RuleError","report","getSource","Document","node","esmWorker","result","text","test"],"sources":["../src/index.js"],"sourcesContent":["export default function (context, options = {}) {\n    const { Syntax, RuleError, report, getSource } = context;\n    return {\n        async [Syntax.Document](node) {\n            const { esmWorker } = await import(\"./esm-worker.mjs\");\n            const result = await esmWorker();\n            const text = getSource(node);\n            if (/valid/.test(text)) {\n                return;\n            }\n            report(node, new RuleError(`esmWorker result: ${result}`));\n        }\n    };\n}\n"],"mappings":";;;;;;AAAe,SAAAA,SAAUC,OAAO,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EAC5C,MAAM;IAAEC,MAAM;IAAEC,SAAS;IAAEC,MAAM;IAAEC;EAAU,CAAC,GAAGL,OAAO;EACxD,OAAO;IACH,OAAOE,MAAM,CAACI,QAAQ,EAAEC,IAAI,EAAE;MAC1B,MAAM;QAAEC;MAAU,CAAC,GAAG,MAAM,MAAM,CAAC,kBAAkB,CAAC;MACtD,MAAMC,MAAM,GAAG,MAAMD,SAAS,CAAC,CAAC;MAChC,MAAME,IAAI,GAAGL,SAAS,CAACE,IAAI,CAAC;MAC5B,IAAI,OAAO,CAACI,IAAI,CAACD,IAAI,CAAC,EAAE;QACpB;MACJ;MACAN,MAAM,CAACG,IAAI,EAAE,IAAIJ,SAAS,CAAE,qBAAoBM,MAAO,EAAC,CAAC,CAAC;IAC9D;EACJ,CAAC;AACL"}